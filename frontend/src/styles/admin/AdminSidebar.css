/* ===== khung ===== */
.as{
  position:sticky; top:0; height:100vh;
  width:260px; background:#0b1220; color:#e5e7eb;
  display:grid; grid-template-rows:auto 1fr auto auto; /* top | nav | switch+widget | bottom */
  border-right:1px solid rgba(255,255,255,.06);
  box-shadow:6px 0 24px rgba(2,6,23,.18);
  z-index:45;
}
.as.is-collapsed{ width:72px; }

/* ===== top ===== */
.as-top{
  display:grid; grid-template-columns:1fr auto; align-items:center; gap:8px;
  padding:16px 12px 10px;
}
.as-brand{ display:flex; align-items:center; gap:12px; font-weight:800; }
.as-brand i{ font-size:22px; color:#60a5fa; }
.as-brand-text{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.as.is-collapsed .as-brand-text{ display:none; }

.as-toggle{
  width:36px;height:36px; display:grid; place-items:center;
  background:#111827; border:1px solid rgba(255,255,255,.08);
  color:#e5e7eb; border-radius:10px; cursor:pointer;
  transition:background .15s ease, transform .06s ease;
}
.as-toggle:hover{ background:#0e162b; }
.as-toggle:active{ transform:scale(.98); }

/* ===== nav ===== */
.as-nav{
  padding:8px; display:grid; gap:6px; overflow:auto;
}
.as-section{
  font-size:12px; color:#9ca3af; text-transform:uppercase;
  padding:10px 10px 6px; letter-spacing:.35px;
}
.as.is-collapsed .as-section{ display:none; }

.as-link{
  position:relative; box-sizing:border-box;
  display:flex; align-items:center; gap:10px;
  padding:10px 12px 10px 16px;
  border-radius:12px; color:#e5e7eb; text-decoration:none;
  border:1px solid transparent; transition:background .15s, border-color .15s, transform .06s;
}
.as-link .ico{ width:22px; display:grid; place-items:center; color:#9ca3af; }
.as-link .txt{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.as-link:hover{ background:#111827; border-color:rgba(255,255,255,.06); }

/* ACTIVE: giữ trong khung, không tràn */
.as-link.active{
  background:#111827; border-color:rgba(59,130,246,.6);
}
.as-link.active .ico{ color:#60a5fa; }
.as-link.active::before{
  content:""; position:absolute; left:8px; top:8px; bottom:8px; width:3px;
  border-radius:3px; background:#3b82f6;
}

/* Focus: dùng focus-visible để không chói */
.as-link:focus{ outline:none; }
.as-link:focus-visible{ box-shadow:0 0 0 2px rgba(59,130,246,.25) inset; }

.as.is-collapsed .as-link{ justify-content:center; padding:10px; }
.as.is-collapsed .as-link .txt{ display:none; }

/* badge đơn */
.as-link .badge{
  margin-left:auto; min-width:20px; height:20px; padding:0 6px;
  background:#ef4444; color:#fff; font-size:12px; font-weight:800;
  border-radius:9999px; display:inline-grid; place-items:center;
}

/* ===== widget thời tiết & giờ ===== */
.as-widget{
  margin:8px 12px 0; padding:12px;
  background:#0f172a; border:1px solid rgba(255,255,255,.06);
  border-radius:12px; display:grid; gap:10px;
}
.as-clock{ display:flex; gap:12px; align-items:center; }
.as-clock i{ color:#60a5fa; }
.as-clock-meta{ line-height:1.1; }
.as-clock-meta strong{ font-size:16px; }
.as-clock-meta span{ font-size:12px; color:#9ca3af; }

.as-weather{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.as-weather-left{ display:flex; align-items:center; gap:12px; }
.as-weather-left i{ color:#22c55e; }
.as-weather-meta strong{ font-size:16px; }
.as-weather-meta span{ font-size:12px; color:#9ca3af; }

.as-note{
  display:flex; align-items:center; gap:8px;
  font-size:12px; color:#94a3b8;
}
.as-note code{ background:#111827; padding:2px 6px; border-radius:6px; }

/* ===== bottom ===== */
.as-bottom{ padding:10px 8px 14px; display:grid; gap:8px; border-top:1px solid rgba(255,255,255,.06); }
.as-help{
  display:flex; align-items:center; gap:12px;
  text-decoration:none; color:#e5e7eb; padding:10px; border-radius:12px; border:1px solid transparent;
}
.as-help:hover{ background:#111827; border-color:rgba(255,255,255,.06); }
.as-ver{ display:flex; align-items:center; gap:8px; color:#94a3b8; font-size:12px; padding:0 10px; }
.as.is-collapsed .as-help .txt, .as.is-collapsed .as-ver .txt{ display:none; }

/* ===== responsive ===== */
@media (max-width:980px){
  .as{ position:fixed; left:0; top:0; height:100vh; transform:translateX(0); transition:transform .2s ease; }
  .as.as-hidden{ transform:translateX(-100%); }
}

/* ========== Switch Sáng/Tối trong Sidebar ========== */
.as-switch{
  margin:8px 12px;
  position:relative;
  height:40px; border-radius:999px;
  width:100%; max-width:220px;
  background:#0f172a;
  border:1px solid rgba(255,255,255,.08);
  display:flex; align-items:center; justify-content:space-between;
  padding:0 12px;
  color:#e5e7eb; cursor:pointer;
}
.as-switch .moon{ opacity:.9; }
.as-switch .sun{ opacity:.9; }

.as-switch .knob{
  position:absolute; top:4px; left:4px;
  width:32px; height:32px; border-radius:999px;
  background:#111827; color:#e5e7eb;
  display:grid; place-items:center;
  transition:transform .18s ease;
  box-shadow:0 6px 18px rgba(0,0,0,.25), inset 0 0 0 1px rgba(255,255,255,.06);
}
.as-switch.is-light .knob{
  transform:translateX(calc(100% + 90px)); /* tinh chỉnh +/− vài px nếu lệch */
  background:#ffffff; color:#0f172a;
  box-shadow:0 6px 18px rgba(0,0,0,.12), inset 0 0 0 1px rgba(0,0,0,.06);
}

/* ========= LIGHT THEME (Sidebar) – TƯƠNG PHẢN CAO ========= */
.as[data-theme="light"]{
  background:#ffffff;
  color:#0f172a;
  border-right:1px solid #e5e7eb;
}

/* nhãn section */
.as[data-theme="light"] .as-section{
  color:#475569;
  font-weight:600;
  letter-spacing:.3px;
}

/* link mặc định */
.as[data-theme="light"] .as-link{
  color:#0f172a;
  border-color:transparent;
}
.as[data-theme="light"] .as-link .ico{ color:#334155; }

/* hover nhẹ, không làm mờ chữ */
.as[data-theme="light"] .as-link:hover{
  background:#f1f5f9;
  border-color:#e5e7eb;
}

/* active/focus */
.as[data-theme="light"] .as-link.active{
  background:#eef2ff;
  border-color:#4f46e5;
}
.as[data-theme="light"] .as-link.active .ico{ color:#4f46e5; }
.as[data-theme="light"] .as-link.active::before{ background:#4f46e5; }

.as[data-theme="light"] .as-link:focus{ outline:none; }
.as[data-theme="light"] .as-link:focus-visible{
  box-shadow:0 0 0 2px rgba(79,70,229,.35) inset;
  background:#eef2ff;
  border-color:#4f46e5;
}

/* widget/help */
.as[data-theme="light"] .as-widget{
  background:#ffffff; border-color:#e5e7eb;
}
.as[data-theme="light"] .as-help:hover{
  background:#f8fafc; border-color:#e5e7eb;
}

/* badge đỏ nổi bật */
.as[data-theme="light"] .as-link .badge{
  background:#ef4444; color:#fff;
}

/* switch nền khi light */
.as[data-theme="light"] .as-switch{
  background:#e2e8f0;
  border-color:#cbd5e1;
  color:#0f172a;
}
